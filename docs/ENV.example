# =============================================================================
# PA-Bot Environment Configuration
# Complete reference for all environment variables
# =============================================================================

# -----------------------------------------------------------------------------
# SYMBOLS & TIMEFRAMES
# -----------------------------------------------------------------------------

# Comma-separated list of symbols to monitor (e.g., BTCUSDT,ETHUSDT,XAUUSD)
# Note: XAUUSD will be automatically mapped to XAUUSDT if it exists
SYMBOLS=BTCUSDT,ETHUSDT

# Timeframes to monitor (comma-separated: 1d,4h,1h)
# These are used for HTF bias and structure analysis
# Default: 1d,4h,1h
TIMEFRAMES=1d,4h,1h

# Entry timeframes - timeframes where ENTRY signals are generated
# Comma-separated list (e.g., 1h or 1h,4h)
# Default: 1h
ENTRY_TIMEFRAMES=1h

# Higher timeframe (HTF) bias timeframes
# Used to determine market direction/bias for alignment
# Comma-separated list (e.g., 4h,1d)
# Default: 4h,1d
HTF_TIMEFRAMES=4h,1d

# -----------------------------------------------------------------------------
# TELEGRAM CONFIGURATION
# -----------------------------------------------------------------------------

# Telegram Bot Token (REQUIRED)
# Get this from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# Telegram Chat ID (REQUIRED)
# Your personal chat ID or channel/group ID
TELEGRAM_CHAT_ID=your_telegram_chat_id_here

# Optional: Telegram Group ID for group notifications
# Example: -1001234567890
# Leave empty to disable group notifications
TELEGRAM_GROUP_ID=

# Send startup notification message (default: false)
TELEGRAM_SEND_STARTUP=false

# Send connection test message on startup (default: false)
TELEGRAM_SEND_CONNECTION_TEST=false

# Telegram timezone for timestamp display
# Default: Asia/Ho_Chi_Minh
# Examples: Asia/Bangkok, Asia/Singapore, UTC, America/New_York
TELEGRAM_TIMEZONE=Asia/Ho_Chi_Minh

# -----------------------------------------------------------------------------
# SIGNAL CONFIGURATION
# -----------------------------------------------------------------------------

# Cooldown period in minutes to avoid duplicate signals
# Prevents sending the same signal multiple times
# Default: 60 (1 hour)
SIGNAL_COOLDOWN_MINUTES=60

# Minimum score threshold (0-100) for sending signals (legacy)
# Default: 70
MIN_SIGNAL_SCORE=70

# Signal stages to enable (comma-separated: setup,entry)
# - setup: Early warning when setup is forming (intrabar detection)
# - entry: Confirmed signal with clear entry/SL/TP
# Default: entry (ENTRY-only mode recommended)
SIGNAL_STAGE_ENABLED=entry

# Score threshold for SETUP alerts (early warning)
# Only used if 'setup' is enabled in SIGNAL_STAGE_ENABLED
# Default: 50
SETUP_SCORE_THRESHOLD=50

# Score threshold for ENTRY alerts (confirmed signals)
# Default: 70
ENTRY_SCORE_THRESHOLD=70

# -----------------------------------------------------------------------------
# RISK & QUALITY FILTERS
# -----------------------------------------------------------------------------

# Minimum risk-reward ratio for ENTRY signals
# Signals with RR below this will be filtered out
# Default: 1.5
MIN_RR=1.5

# Require volume confirmation for signals (true/false)
# When true, signals require volume spike above threshold
# Default: true
REQUIRE_VOLUME_CONFIRMATION=true

# Volume spike threshold (multiplier of average volume)
# Volume must exceed average volume by this multiple
# Default: 1.5 (volume must be 1.5x or more than average)
VOLUME_SPIKE_THRESHOLD=1.5

# -----------------------------------------------------------------------------
# ANTI-CHASE CONFIGURATION
# -----------------------------------------------------------------------------

# Maximum ATR multiple for chase detection
# Prevents entering trades too far from setup/entry point
# Default: 2.0
ANTI_CHASE_MAX_ATR=2.0

# Maximum percentage move for chase detection
# Prevents entering after large price moves
# Default: 3.0 (3%)
ANTI_CHASE_MAX_PCT=3.0

# -----------------------------------------------------------------------------
# SCORING CONFIGURATION
# -----------------------------------------------------------------------------

# Bonus points for RSI divergence (default: 10)
# Divergence is a bonus, not required
RSI_DIVERGENCE_BONUS=10

# -----------------------------------------------------------------------------
# PRICE ACTION CONFIGURATION
# -----------------------------------------------------------------------------

# Window size for pivot detection (how many candles to look back)
# Default: 5
PIVOT_WINDOW=5

# Number of candles to look back for zone building
# Default: 100
ZONE_LOOKBACK=100

# Zone tolerance percentage (how close price needs to be to consider it a touch)
# Default: 0.5 (0.5%)
ZONE_TOLERANCE_PCT=0.5

# Buffer for stop loss beyond zones (percentage)
# Adds buffer below support (LONG) or above resistance (SHORT)
# Default: 0.2 (0.2%)
ZONE_SL_BUFFER_PCT=0.2

# Minimum number of zones required for signal generation
# Default: 2
MIN_ZONES_REQUIRED=2

# -----------------------------------------------------------------------------
# SIGNAL FORMATTING
# -----------------------------------------------------------------------------

# Source text for signal footer
# This appears at the bottom of all signal messages
# Default: "Posiya Tú zalo 0763888872"
SIGNAL_SOURCE_TEXT=Posiya Tú zalo 0763888872

# Footer source name (legacy)
SOURCE_NAME=PA-Bot

# Footer tagline (legacy)
TAGLINE=Price Action + Volume Analysis

# -----------------------------------------------------------------------------
# BINANCE CONFIGURATION
# -----------------------------------------------------------------------------

# Binance API Base URL (optional)
# Default: https://fapi.binance.com (Futures)
BINANCE_API_BASE=https://fapi.binance.com

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------

# SQLite database path for storing signals and cooldowns
# Default: ./data/signals.db
DB_PATH=./data/signals.db

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------

# Set to 'true' to disable Telegram sending and only log to console
# Useful for testing and development
# Default: false
DRY_RUN=false

# Log level: debug, info, warn, error
# Default: info
LOG_LEVEL=info

# Intrabar update throttle in milliseconds
# Only used if SETUP stage is enabled
# Default: 10000 (10 seconds)
INTRABAR_THROTTLE_MS=10000

# =============================================================================
# QUICK START EXAMPLE
# =============================================================================
# 
# Minimal configuration for PA V1 (ENTRY-only mode):
#
# SYMBOLS=BTCUSDT,ETHUSDT
# TIMEFRAMES=1d,4h,1h
# ENTRY_TIMEFRAMES=1h
# HTF_TIMEFRAMES=4h,1d
# TELEGRAM_BOT_TOKEN=your_bot_token
# TELEGRAM_CHAT_ID=your_chat_id
# MIN_RR=1.5
# REQUIRE_VOLUME_CONFIRMATION=true
# VOLUME_SPIKE_THRESHOLD=1.5
# SIGNAL_COOLDOWN_MINUTES=60
# SIGNAL_SOURCE_TEXT=Posiya Tú zalo 0763888872
#
# =============================================================================
